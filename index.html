<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>MicroPlastics Simulation</title>
    <link rel="icon" type="image/png" href="assets/mpcloseup.png">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css">
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <header>
        <h1>N-Body Simulation of Microplastic - Polymer Interactions</h1>
        <p>CUDA/OpenGL n-body model of microplastics and plant polymers inside a virtual beaker. This page focuses only on the simulation; media will be updated with rendered stills.</p>
    </header>

    <nav>
        <button id="nav-toggle" class="nav-toggle" title="Toggle menu"><i class="fas fa-bars"></i></button>
        <ul>
            <li><a href="https://mbane04.github.io" target="_blank"><i class="fas fa-arrow-left"></i> Portfolio</a></li>
            <li><a href="#overview"><i class="fas fa-info-circle"></i> Overview</a></li>
            <li><a href="#context"><i class="fas fa-project-diagram"></i> Context</a></li>
            <li><a href="#media"><i class="fas fa-film"></i> Media</a></li>
            <li><button id="dark-mode-toggle" class="dark-mode-btn" title="Toggle dark mode"><i class="fas fa-moon"></i><span class="mode-label">Dark</span></button></li>
        </ul>
    </nav>

    <div class="container">
        <section id="overview">
            <h2><i class="fas fa-info-circle"></i> Project Overview</h2>
            <p>My first N-Body CUDA/OpenGL simulation used to study microplastic–polymer interactions in a virtual beaker. The model handles Brownian motion, chain connectivity, container walls, stirring, and gravity to preview coagulation dynamics before lab work. One setup file defines particle counts, sizes, densities, drag, and chain lengths so runs mirror planned lab scenarios; OpenGL renders and nvcc scripts make reruns fast. Media will be replaced with rendered stills exported on Linux.</p>
            <div class="features-grid">
                <div class="feature-card">
                    <i class="fas fa-microchip"></i>
                    <h3>Parallel processing</h3>
                    <p>CUDA kernels compute polymer–polymer, polymer–microplastic, and microplastic–microplastic forces with Brownian noise.</p>
                </div>
                <div class="feature-card">
                    <i class="fas fa-flask"></i>
                    <h3>Configurable</h3>
                    <p>Adjust densities, diameters, drag, and connection lengths to tune coagulation behavior and match lab scenarios.</p>
                </div>
                <div class="feature-card">
                    <i class="fas fa-vial"></i>
                    <h3>Virtual beaker</h3>
                    <p>Container walls, fluid height, and stirring controls emulate the lab beaker for visual validation.</p>
                </div>
            </div>
            <h3 style="margin-top: 24px;">Quick Facts</h3>
            <ul class="plain-list">
                <li><strong>Goal:</strong> Reduce lab iteration time by vetting coagulation behavior in a GPU sandbox before wet work.</li>
                <li><strong>Tech:</strong> CUDA C++ n-body solver with OpenGL visualization on Linux (nvcc toolchain).</li>
                <li><strong>Force model:</strong> Brownian noise, gravity, container confinement, stirring field, polymer chain springs.</li>
                <li><strong>Parameters:</strong> One setup file sets particle counts, diameters, densities, drag, and chain lengths to match planned lab runs.</li>
            </ul>
            <div class="media-card" style="margin-top:18px;">
                <video controls preload="metadata">
                    <source src="assets/coagulation-video.mp4" type="video/mp4">
                    Your browser does not support the video tag.
                </video>
            </div>
        </section>

        <section id="context">
            <h2><i class="fas fa-project-diagram"></i> Main Project Context</h2>
                <p>This simulation is an extension of the larger microplastic remediation project. The core effort focused on plant-derived polysaccharides (okra and fenugreek) as biodegradable coagulants to replace synthetic polyacrylamide. The GPU model serves as a sandbox to probe force models and mixing behavior before running wet-lab coagulation trials and capturing results in a physical beaker.</p>
            <h3 style="margin-top: 20px; margin-bottom: 18px;">How the sim supports the main project</h3>
            <div class="features-grid">
                <div class="feature-card">
                    <i class="fas fa-bolt"></i>
                    <h3>De-risks lab time</h3>
                    <p>Test force/parameter ranges virtually before running wet-lab coagulation trials.</p>
                </div>
                <div class="feature-card">
                    <i class="fas fa-sync"></i>
                    <h3>Mirrors lab setup</h3>
                    <p>Particle counts, densities, diameters, drag, and connection lengths match planned experiments.</p>
                </div>
                <div class="feature-card">
                    <i class="fas fa-image"></i>
                    <h3>Visual validation</h3>
                    <p>Simulated beaker stills pair with lab photos to compare expected vs. real coagulation.</p>
                </div>
            </div>
        </section>

        <section id="media">
            <h2><i class="fas fa-film"></i> Media</h2>
            <p style="margin-bottom:18px;">Rendered stills and a short capture of the coagulation run. Click thumbnails to swap media; arrows or arrow keys move through the set.</p>

            <div class="gallery-viewer">
                <button class="gallery-nav prev" aria-label="Previous media"><i class="fas fa-chevron-left"></i></button>
                <div class="gallery-media">
                    <video id="gallery-video" controls preload="metadata" style="display:none;"></video>
                    <img id="gallery-image" alt="Gallery media" style="display:none;" loading="lazy">
                </div>
                <div class="gallery-meta">
                    <h4 id="gallery-title">Microplastic Coagulation</h4>
                    <p id="gallery-desc">GPU capture showing polymer chains drawing microplastics together.</p>
                </div>
                <button class="gallery-nav next" aria-label="Next media"><i class="fas fa-chevron-right"></i></button>
            </div>

            <div class="gallery-thumbs" id="gallery-thumbs" aria-label="Gallery thumbnails">
                <button class="gallery-thumb" data-type="video" data-src="assets/coagulation-video.mp4" data-title="Coagulation Capture" data-desc="Live CUDA/OpenGL capture of the beaker as chains pull plastics together.">
                    <span class="thumb-badge">Video</span>
                    <img src="assets/simulationStir.png" alt="Coagulation capture">
                </button>
                <button class="gallery-thumb" data-type="image" data-src="assets/simulationStart.png" data-title="Initialization" data-desc="Start of run with polymer chains dispersed before stirring.">
                    <span class="thumb-badge image">Image</span>
                    <img src="assets/simulationStart.png" alt="Simulation start frame">
                </button>
                <button class="gallery-thumb" data-type="image" data-src="assets/simulationStir.png" data-title="Mid-Stir" data-desc="Chains stretch as stirring begins inside the virtual beaker.">
                    <span class="thumb-badge image">Image</span>
                    <img src="assets/simulationStir.png" alt="Simulation mid-stir frame">
                </button>
                <button class="gallery-thumb" data-type="image" data-src="assets/simulationEnd.png" data-title="Coagulated" data-desc="Clusters form near the bottom as gravity and drag settle the mix.">
                    <span class="thumb-badge image">Image</span>
                    <img src="assets/simulationEnd.png" alt="Simulation end frame">
                </button>
                <button class="gallery-thumb" data-type="image" data-src="assets/mpBeakerTop.png" data-title="Top View" data-desc="Top-down still showing microplastic chains and radial distribution.">
                    <span class="thumb-badge image">Image</span>
                    <img src="assets/mpBeakerTop.png" alt="Top view">
                </button>
                <button class="gallery-thumb" data-type="image" data-src="assets/mpBreakerSide.png" data-title="Side View" data-desc="Side view of the beaker highlighting stratification during mixing.">
                    <span class="thumb-badge image">Image</span>
                    <img src="assets/mpBreakerSide.png" alt="Side view">
                </button>
                <button class="gallery-thumb" data-type="image" data-src="assets/TerminalCommands.png" data-title="NVCC Pipeline" data-desc="Snapshot of the nvcc build script used to render and export the media set.">
                    <span class="thumb-badge image">Image</span>
                    <img src="assets/TerminalCommands.png" alt="Terminal commands">
                </button>
            </div>
        </section>
    </div>

    <footer>
        <p>&copy; 2026 Mason Bane | Microplastics Simulation</p>
    </footer>

    <script src="script.js"></script>
</body>
</html>
